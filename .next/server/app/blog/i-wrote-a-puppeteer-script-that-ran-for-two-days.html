<!DOCTYPE html><html lang="en-us" class="__variable_641c3b scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/2d141e1a38819612-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/a50c157ae8ba148d.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/4c1770c6b5d6c2d9.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-2c41b46c7d60a505.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-80ea045f608d9add.js" async=""></script><script src="/_next/static/chunks/864-e863a1fa8482c7cb.js" async=""></script><script src="/_next/static/chunks/main-app-be3c1b5a50fc36c8.js" async=""></script><title>I Wrote a Puppeteer Script That Ran For Two Days | @polluterofminds | Justin Hunter</title><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://polluterofminds.com/blog/i-wrote-a-puppeteer-script-that-ran-for-two-days"/><link rel="alternate" type="application/rss+xml" href="https://polluterofminds.com/feed.xml"/><meta property="og:title" content="I Wrote a Puppeteer Script That Ran For Two Days"/><meta property="og:url" content="https://polluterofminds.com/blog/i-wrote-a-puppeteer-script-that-ran-for-two-days"/><meta property="og:site_name" content="@polluterofminds | Justin Hunter"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://polluterofminds.com/static/images/twitter-card.png"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2020-05-12T19:36:45.000Z"/><meta property="article:modified_time" content="2020-05-12T19:36:45.000Z"/><meta property="article:author" content="Justin Hunter"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="I Wrote a Puppeteer Script That Ran For Two Days"/><meta name="twitter:image" content="https://polluterofminds.com/static/images/twitter-card.png"/><meta name="next-size-adjust"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-950 dark:text-white"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><section class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between font-sans"><header class="flex items-center justify-between py-10"><div><a aria-label="@polluterofminds" href="/"><div class="flex items-center justify-between"><div class="mr-3"></div><div class="hidden h-6 text-2xl font-semibold sm:block">@polluterofminds</div></div></a></div><div class="flex items-center leading-5 space-x-4 sm:space-x-6"><a class="hidden sm:block font-medium text-gray-900 dark:text-gray-100" href="/blog">Blog</a><a class="hidden sm:block font-medium text-gray-900 dark:text-gray-100" href="/tags">Tags</a><a class="hidden sm:block font-medium text-gray-900 dark:text-gray-100" href="/projects">Projects</a><a class="hidden sm:block font-medium text-gray-900 dark:text-gray-100" href="/about">About</a><button aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="text-gray-900 dark:text-gray-100 h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></button><button aria-label="Toggle Menu" class="sm:hidden"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100 h-8 w-8"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed left-0 top-0 z-10 h-full w-full transform opacity-95 dark:opacity-[0.98] bg-white duration-300 ease-in-out dark:bg-gray-950 translate-x-full"><div class="flex justify-end"><button class="mr-8 mt-11 h-8 w-8" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/">Home</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></header><main class="mb-auto"><section class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed bottom-8 right-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2020-05-12T19:36:45.000Z">Tuesday, May 12, 2020</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">I Wrote a Puppeteer Script That Ran For Two Days</h1></div></div></header><div class="grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0"><dl class="pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" loading="lazy" width="38" height="38" decoding="async" data-nimg="1" class="h-10 w-10 rounded-full" style="color:transparent" srcSet="/_next/image?url=%2Fstatic%2Fimages%2Favatar.jpg&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fimages%2Favatar.jpg&amp;w=96&amp;q=75 2x" src="/_next/image?url=%2Fstatic%2Fimages%2Favatar.jpg&amp;w=96&amp;q=75"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Justin Hunter</dd><dt class="sr-only">Twitter</dt><dd><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/polluterofminds" class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">@polluterofminds</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pb-8 pt-10 dark:prose-invert"><p>I have experienced first-hand why open data is so important. Imagine a scenario where you&#x27;ve paid for software. This can be something you&#x27;ve done personally or something you&#x27;ve done for the organization you work for. Now, you are ready to move on to another vendor, another piece of software. All of the data you&#x27;ve stored is vital to your work (personal or professional). That data needs to be moved to the new software. This shouldn&#x27;t be a problem because it&#x27;s your data.</p><p>But is it really?</p><p>If you can&#x27;t easily port the data from one service to another, it becomes less owned by you and more owned by the company providing the software. If there&#x27;s no way at all to get the data out, it becomes wholly owned by the company managing the software you&#x27;re using. This is called vendor lock-in. It can be intentional and strategic or it can be a poor product design. In any case, if you&#x27;re in the latter situation, you&#x27;re out of luck.</p><p>Unless…</p><p>I found myself in a situation where the software vendor had complete control of the data. Data that did not belong to them and should have been easily accessible. There were no APIs to query to get the data. Everything was rendered server-side and returned to the client. So sifting through network requests didn&#x27;t help. There was only one solution left to try: Puppeteer.</p><p>From the <a target="_blank" rel="noopener noreferrer" href="https://github.com/puppeteer/puppeteer">Puppeteer Github</a> repository:</p><p>Puppeteer is a Node library which provides a high-level API to control Chrome or Chromium over the DevTools Protocol. Puppeteer runs headless by default, but can be configured to run full (non-headless) Chrome or Chromium.</p><p>Generally speaking, Puppeteer is used for automated client-side testing. It allows you to run a headless browser that can crawl a page, look for elements, enter text, click buttons, and more.</p><p>Turns out, it&#x27;s also great for scraping data. And by &quot;great&quot;, I mean tedious as hell but gets the job done. In my case, I not only had to use Puppeteer to scrape certain pieces of data from a software vendor that had locked the data in their own silo, but I had to also wrestle with legacy web technology.</p><p>Remember <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/frameset">framesets</a> and frames? Not <code>iframes</code> but <code>frames</code>. This pre-HTML5 technology was still in use by the vendor in question, so I got to dig deep into my JavaScript toolbox to properly scrape the necessary data from the pages I accessed.</p><p>There were four main things I had to do with my Puppeteer code:</p><ol><li>Get the raw text data from each page</li><li>Navigate to the links to other pages referenced on the original page and grab text data from each of those pages</li><li>Download all files linked on each page</li><li>Screenshot each page (in case anything was missed in this scraping process, at least the screenshot would provide reference data)</li></ol><p>All of the above had to be applied to <em>7,000 pages</em> of data. Wow.</p><p>If you&#x27;ve ever used Puppeteer (or really, if you&#x27;ve ever used the web), you know that network requests can take varying amounts of time to resolve. For an application that is rendered server-side, this means you have to wait for the network request to finish before you can do any scraping. So, each page could take anywhere between one and five seconds to load. Assuming the average load time was 2.5 seconds, we are already at 17,500 seconds of scraping time just for loading those pages.</p><p>But remember, I also had to grab the links to referenced pages within the original pages and grab the sub-data from those pages. We&#x27;ll play it conservative and say there was just one additional page referenced on each original page. And if we apply the same 2.5 second average load time, that&#x27;s an additional 17,500 seconds of scraping time.</p><p><strong>Gets out calculator</strong></p><p>For just the first two steps above, we have a script that will need to run for <em>9.72 hours</em>. What about for the next two steps in the four-step process?</p><p>Each original page had various files attached that needed to be downloaded. These files could be PDFs, email messages, images, documents, and more. The sizes of the files ranged. A conservative estimate here would put an average of four files on each of the original pages. Each file download probably averaged about a second.</p><p><strong>More math</strong></p><p>The file downloads would take upwards of 28,000 seconds, or an additional 7.77 hours. But we&#x27;re not done, because we also have to take a screenshot and save that screenshot for each of the original pages. Puppeteer is pretty quick with this, so each screenshot, even using the synchronous code necessary to make sure everything executed properly, likely took about 1.5 seconds. That means…getting that calculator again…an additional 10,500 seconds, or 2.91 hours.</p><p>That all adds up to 20.33 hours, give or take. And of course, this is just an estimate after the fact, but it checks out. Because, you see, this isn&#x27;t just a hypothetical. I ran this script, got the data I needed, and it took from the end of one day to the middle of the next day.</p><p>A script that spanned across two days just to get data I should have easily had access to? That&#x27;s vendor lock-in for you. Thank goodness for Puppeteer, a little JavaScript, and a whole lot of patience.</p></div><div class="pb-6 pt-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="nofollow" href="https://mobile.twitter.com/search?q=https%3A%2F%2Fpolluterofminds.com%2Fblog%2Fi-wrote-a-puppeteer-script-that-ran-for-two-days">Discuss on Twitter</a> • <a target="_blank" rel="noopener noreferrer" href="https://github.com/polluterofminds/polluterofminds-site/blob/main/data/blog/i-wrote-a-puppeteer-script-that-ran-for-two-days.mdx">View on GitHub</a></div><div class="pb-6 pt-6 text-center text-gray-700 dark:text-gray-300" id="comment"><button>Load Comments</button></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/dev">dev</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/being-wrong-in-the-time-of-a-pandemic">Being Wrong in the Time of a Pandemic</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/remote-done-right">Remote Done Right</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" aria-label="Back to the blog" href="/blog">← Back to the blog</a></div></footer></div></div></article></section></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:justin@polluterofminds.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/polluterofminds"><span class="sr-only">github</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/justin-hunter-b30a1b80/"><span class="sr-only">linkedin</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://twitter.com/polluterofminds"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://warpcast.com/polluterofminds"><span class="sr-only">warpcast</span><svg class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.2 22.2857C23.642 22.2857 24 22.6693 24 23.1429V24H16V23.1429C16 22.6693 16.358 22.2857 16.8 22.2857H23.2Z" fill="currentColor"></path><path d="M23.2 22.2857V21.4286C23.2 20.955 22.842 20.5714 22.4 20.5714H17.6C17.158 20.5714 16.8 20.955 16.8 21.4286L16.8 22.2857H23.2Z" fill="currentColor"></path><path d="M20 0H4V3.42857H20V0Z" fill="currentColor"></path><path d="M20 2.57143H4V3.42857H20V2.57143Z" fill="currentColor"></path><path d="M23.2 6.85714H0.8L0 3.42857H24L23.2 6.85714Z" fill="currentColor"></path><path d="M22.4 6.85714H17.6L17.6 20.5714H22.4V6.85714Z" fill="currentColor"></path><path d="M7.2 22.2857C7.642 22.2857 8 22.6693 8 23.1429V24H0V23.1429C0 22.6693 0.358 22.2857 0.8 22.2857H7.2Z" fill="currentColor"></path><path d="M7.2 22.2857V21.4286C7.2 20.955 6.842 20.5714 6.4 20.5714H1.6C1.158 20.5714 0.800001 20.955 0.800001 21.4286L0.8 22.2857H7.2Z" fill="currentColor"></path><path d="M6.4 6.85714H1.6L1.6 20.5714H6.4L6.4 6.85714Z" fill="currentColor"></path><path d="M6.4 13.6457C6.4 10.332 8.9072 7.64572 12 7.64572C15.0928 7.64572 17.6 10.332 17.6 13.6457V5.07429H6.4V13.6457Z" fill="currentColor"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Justin Hunter</div><div> • </div><div>© 2023</div><div> • </div><a href="/">@polluterofminds | Justin Hunter</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"></div></div></footer></div></section><script src="/_next/static/chunks/webpack-2c41b46c7d60a505.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/2d141e1a38819612-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/a50c157ae8ba148d.css\",\"style\"]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:HL[\"/_next/static/css/4c1770c6b5d6c2d9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":6054,\"chunks\":[\"272:static/chunks/webpack-2c41b46c7d60a505.js\",\"971:static/chunks/fd9d1056-80ea045f608d9add.js\",\"864:static/chunks/864-e863a1fa8482c7cb.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":1729,\"chunks\":[\"272:static/chunks/webpack-2c41b46c7d60a505.js\",\"971:static/chunks/fd9d1056-80ea045f608d9add.js\",\"864:static/chunks/864-e863a1fa8482c7cb.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":7516,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"998:static/chunks/998-0d6ec9af6c00e432.js\",\"185:static/chunks"])</script><script>self.__next_f.push([1,"/app/layout-d90a695ce57c01a0.js\"],\"name\":\"ThemeProviders\",\"async\":false}\n9:I{\"id\":4244,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"998:static/chunks/998-0d6ec9af6c00e432.js\",\"185:static/chunks/app/layout-d90a695ce57c01a0.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":8251,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"998:static/chunks/998-0d6ec9af6c00e432.js\",\"185:static/chunks/app/layout-d90a695ce57c01a0.js\"],\"name\":\"KBarSearchProvider\",\"async\":false}\nb:I{\"id\":4724,\"chunks\":[\"724:static/chunks/"])</script><script>self.__next_f.push([1,"724-ae4ae561ef8e5138.js\",\"964:static/chunks/964-256e2702ddb0b4bf.js\",\"797:static/chunks/app/blog/[...slug]/page-069d65d2cb55f240.js\"],\"name\":\"\",\"async\":false}\nc:I{\"id\":7005,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"998:static/chunks/998-0d6ec9af6c00e432.js\",\"185:static/chunks/app/layout-d90a695ce57c01a0.js\"],\"name\":\"KBarButton\",\"async\":false}\nd:I{\"id\":7074,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"998:static/chunks/998-0d6ec9af6c00e432.js\",\"185:static/chunks/app/layout-d90a695ce57c"])</script><script>self.__next_f.push([1,"01a0.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":7365,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"998:static/chunks/998-0d6ec9af6c00e432.js\",\"185:static/chunks/app/layout-d90a695ce57c01a0.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":1443,\"chunks\":[\"272:static/chunks/webpack-2c41b46c7d60a505.js\",\"971:static/chunks/fd9d1056-80ea045f608d9add.js\",\"864:static/chunks/864-e863a1fa8482c7cb.js\"],\"name\":\"\",\"async\":false}\n10:I{\"id\":8639,\"chunks\":[\"272:static/chunks/webpack-2c41b46c7d60a505.js\",\"971:static/chunks/fd9d1"])</script><script>self.__next_f.push([1,"056-80ea045f608d9add.js\",\"864:static/chunks/864-e863a1fa8482c7cb.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a50c157ae8ba148d.css\",\"precedence\":\"next\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"otm0DlPPLx86GyvSMtWlv\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/i-wrote-a-puppeteer-script-that-ran-for-two-days\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"i-wrote-a-puppeteer-script-that-ran-for-two-days\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"i-wrote-a-puppeteer-script-that-ran-for-two-days\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L6\"],\"globalErrorComponent\":\"$7\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en-us\",\"className\":\"__variable_641c3b scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"76x76\",\"href\":\"/static/favicons/apple-touch-icon.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/static/favicons/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"16x16\",\"href\":\"/static/favicons/favicon-16x16.png\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/static/favicons/site.webmanifest\"}],[\"$\",\"link\",null,{\"rel\":\"mask-icon\",\"href\":\"/static/favicons/safari-pinned-tab.svg\",\"color\":\"#5bbad5\"}],[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#000000\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: light)\",\"content\":\"#fff\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: dark)\",\"content\":\"#000\"}],[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"/feed.xml\"}],[\"$\",\"body\",null,{\"className\":\"bg-white text-black antialiased dark:bg-gray-950 dark:text-white\",\"children\":[\"$\",\"$L8\",null,{\"children\":[[\"$undefined\",[[\"$\",\"$L9\",null,{\"strategy\":\"lazyOnload\",\"id\":\"sa-script\",\"children\":\"\\n            window.sa_event=window.sa_event||function(){var a=[].slice.call(arguments);window.sa_event.q?window.sa_event.q.push(a):window.sa_event.q=[a]};\\n        \"}],[\"$\",\"$L9\",null,{\"strategy\":\"lazyOnload\",\"src\":\"https://scripts.simpleanalyticscdn.com/latest.js\"}]],\"$undefined\",\"$undefined\",\"$undefined\"],[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex h-screen flex-col justify-between font-sans\",\"children\":[[\"$\",\"$La\",null,{\"kbarConfig\":{\"searchDocumentsPath\":\"search.json\"},\"children\":[[\"$\",\"header\",null,{\"className\":\"flex items-center justify-between py-10\",\"children\":[[\"$\",\"div\",null,{\"children\":[\"$\",\"$Lb\",null,{\"href\":\"/\",\"aria-label\":\"@polluterofminds\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mr-3\"}],[\"$\",\"div\",null,{\"className\":\"hidden h-6 text-2xl font-semibold sm:block\",\"children\":\"@polluterofminds\"}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"flex items-center leading-5 space-x-4 sm:space-x-6\",\"children\":[[[\"$\",\"$Lb\",null,{\"href\":\"/blog\",\"className\":\"hidden sm:block font-medium text-gray-900 dark:text-gray-100\",\"children\":\"Blog\"}],[\"$\",\"$Lb\",null,{\"href\":\"/tags\",\"className\":\"hidden sm:block font-medium text-gray-900 dark:text-gray-100\",\"children\":\"Tags\"}],[\"$\",\"$Lb\",null,{\"href\":\"/projects\",\"className\":\"hidden sm:block font-medium text-gray-900 dark:text-gray-100\",\"children\":\"Projects\"}],[\"$\",\"$Lb\",null,{\"href\":\"/about\",\"className\":\"hidden sm:block font-medium text-gray-900 dark:text-gray-100\",\"children\":\"About\"}]],[\"$\",\"$Lc\",null,{\"aria-label\":\"Search\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.5,\"stroke\":\"currentColor\",\"className\":\"text-gray-900 dark:text-gray-100 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\"}]}]}],[\"$\",\"$Ld\",null,{}],[\"$\",\"$Le\",null,{}]]}]]}],[\"$\",\"main\",null,{\"className\":\"mb-auto\",\"children\":[\"$\",\"$Lf\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-x-2 pb-8 pt-6 md:space-y-5\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-6xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 md:border-r-2 md:px-6 md:text-8xl md:leading-14\",\"children\":\"404\"}]}],[\"$\",\"div\",null,{\"className\":\"max-w-md\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-4 text-xl font-bold leading-normal md:text-2xl\",\"children\":\"Sorry we couldn't find this page.\"}],[\"$\",\"p\",null,{\"className\":\"mb-8\",\"children\":\"But dont worry, you can find plenty of other things on our homepage.\"}],[\"$\",\"$Lb\",null,{\"href\":\"/\",\"className\":\"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium leading-5 text-white shadow transition-colors duration-150 hover:bg-blue-700 focus:outline-none dark:hover:bg-blue-500\",\"children\":\"Back to homepage\"}]]}]]}],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$Lf\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$Lf\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",[\"slug\",\"i-wrote-a-puppeteer-script-that-ran-for-two-days\",\"c\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L11\",\"$L12\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"i-wrote-a-puppeteer-script-that-ran-for-two-days\\\"]}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4c1770c6b5d6c2d9.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"i-wrote-a-puppeteer-script-that-ran-for-two-days\",\"c\"]},\"styles\":[]}],\"segment\":\"blog\"},\"styles\":[]}]}]]}],[\"$\",\"footer\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"mt-16 flex flex-col items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-3 flex space-x-4\",\"children\":[[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"mailto:justin@polluterofminds.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"mail\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\"}],[\"$\",\"path\",null,{\"d\":\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\"}]]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/polluterofminds\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"github\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"}]}]]}],null,null,[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://www.linkedin.com/in/justin-hunter-b30a1b80/\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"linkedin\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://twitter.com/polluterofminds\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"twitter\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://warpcast.com/polluterofminds\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"warpcast\"}],[\"$\",\"svg\",null,{\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M23.2 22.2857C23.642 22.2857 24 22.6693 24 23.1429V24H16V23.1429C16 22.6693 16.358 22.2857 16.8 22.2857H23.2Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M23.2 22.2857V21.4286C23.2 20.955 22.842 20.5714 22.4 20.5714H17.6C17.158 20.5714 16.8 20.955 16.8 21.4286L16.8 22.2857H23.2Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M20 0H4V3.42857H20V0Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M20 2.57143H4V3.42857H20V2.57143Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M23.2 6.85714H0.8L0 3.42857H24L23.2 6.85714Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M22.4 6.85714H17.6L17.6 20.5714H22.4V6.85714Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M7.2 22.2857C7.642 22.2857 8 22.6693 8 23.1429V24H0V23.1429C0 22.6693 0.358 22.2857 0.8 22.2857H7.2Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M7.2 22.2857V21.4286C7.2 20.955 6.842 20.5714 6.4 20.5714H1.6C1.158 20.5714 0.800001 20.955 0.800001 21.4286L0.8 22.2857H7.2Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M6.4 6.85714H1.6L1.6 20.5714H6.4L6.4 6.85714Z\",\"fill\":\"currentColor\"}],[\"$\",\"path\",null,{\"d\":\"M6.4 13.6457C6.4 10.332 8.9072 7.64572 12 7.64572C15.0928 7.64572 17.6 10.332 17.6 13.6457V5.07429H6.4V13.6457Z\",\"fill\":\"currentColor\"}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400\",\"children\":[[\"$\",\"div\",null,{\"children\":\"Justin Hunter\"}],[\"$\",\"div\",null,{\"children\":\" • \"}],[\"$\",\"div\",null,{\"children\":\"© 2023\"}],[\"$\",\"div\",null,{\"children\":\" • \"}],[\"$\",\"$Lb\",null,{\"href\":\"/\",\"children\":\"@polluterofminds | Justin Hunter\"}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8 text-sm text-gray-500 dark:text-gray-400\"}]]}]}]]}]}]]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"13:I{\"id\":9315,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"964:static/chunks/964-256e2702ddb0b4bf.js\",\"797:static/chunks/app/blog/[...slug]/page-069d65d2cb55f240.js\"],\"name\":\"\",\"async\":false}\n14:I{\"id\":6964,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"964:static/chunks/964-256e2702ddb0b4bf.js\",\"797:static/chunks/app/blog/[...slug]/page-069d65d2cb55f240.js\"],\"name\":\"Image\",\"async\":false}\n15:I{\"id\":5397,\"chunks\":[\"724:static/chunks/724-ae4ae561ef8e5138.js\",\"964:static/chunks/964-256e2702d"])</script><script>self.__next_f.push([1,"db0b4bf.js\",\"797:static/chunks/app/blog/[...slug]/page-069d65d2cb55f240.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"12:[null,[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[[\"$\",\"$L13\",null,{}],[\"$\",\"article\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700\",\"children\":[[\"$\",\"header\",null,{\"className\":\"pt-6 xl:pb-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-1 text-center\",\"children\":[[\"$\",\"dl\",null,{\"className\":\"space-y-10\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Published on\"}],[\"$\",\"dd\",null,{\"className\":\"text-base font-medium leading-6 text-gray-500 dark:text-gray-400\",\"children\":[\"$\",\"time\",null,{\"dateTime\":\"2020-05-12T19:36:45.000Z\",\"children\":\"Tuesday, May 12, 2020\"}]}]]}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14\",\"children\":\"I Wrote a Puppeteer Script That Ran For Two Days\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0\",\"children\":[[\"$\",\"dl\",null,{\"className\":\"pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Authors\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"ul\",null,{\"className\":\"flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8\",\"children\":[[\"$\",\"li\",\"Justin Hunter\",{\"className\":\"flex items-center space-x-2\",\"children\":[[\"$\",\"$L14\",null,{\"src\":\"/static/images/avatar.jpg\",\"width\":38,\"height\":38,\"alt\":\"avatar\",\"className\":\"h-10 w-10 rounded-full\"}],[\"$\",\"dl\",null,{\"className\":\"whitespace-nowrap text-sm font-medium leading-5\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"className\":\"text-gray-900 dark:text-gray-100\",\"children\":\"Justin Hunter\"}],[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Twitter\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://twitter.com/polluterofminds\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"@polluterofminds\"}]}]]}]]}]]}]}]]}],[\"$\",\"div\",null,{\"className\":\"divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0\",\"children\":[[\"$\",\"div\",null,{\"className\":\"prose max-w-none pb-8 pt-10 dark:prose-invert\",\"children\":[[\"$\",\"p\",null,{\"children\":\"I have experienced first-hand why open data is so important. Imagine a scenario where you've paid for software. This can be something you've done personally or something you've done for the organization you work for. Now, you are ready to move on to another vendor, another piece of software. All of the data you've stored is vital to your work (personal or professional). That data needs to be moved to the new software. This shouldn't be a problem because it's your data.\"}],[\"$\",\"p\",null,{\"children\":\"But is it really?\"}],[\"$\",\"p\",null,{\"children\":\"If you can't easily port the data from one service to another, it becomes less owned by you and more owned by the company providing the software. If there's no way at all to get the data out, it becomes wholly owned by the company managing the software you're using. This is called vendor lock-in. It can be intentional and strategic or it can be a poor product design. In any case, if you're in the latter situation, you're out of luck.\"}],[\"$\",\"p\",null,{\"children\":\"Unless…\"}],[\"$\",\"p\",null,{\"children\":\"I found myself in a situation where the software vendor had complete control of the data. Data that did not belong to them and should have been easily accessible. There were no APIs to query to get the data. Everything was rendered server-side and returned to the client. So sifting through network requests didn't help. There was only one solution left to try: Puppeteer.\"}],[\"$\",\"p\",null,{\"children\":[\"From the \",[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/puppeteer/puppeteer\",\"children\":\"Puppeteer Github\"}],\" repository:\"]}],[\"$\",\"p\",null,{\"children\":\"Puppeteer is a Node library which provides a high-level API to control Chrome or Chromium over the DevTools Protocol. Puppeteer runs headless by default, but can be configured to run full (non-headless) Chrome or Chromium.\"}],[\"$\",\"p\",null,{\"children\":\"Generally speaking, Puppeteer is used for automated client-side testing. It allows you to run a headless browser that can crawl a page, look for elements, enter text, click buttons, and more.\"}],[\"$\",\"p\",null,{\"children\":\"Turns out, it's also great for scraping data. And by \\\"great\\\", I mean tedious as hell but gets the job done. In my case, I not only had to use Puppeteer to scrape certain pieces of data from a software vendor that had locked the data in their own silo, but I had to also wrestle with legacy web technology.\"}],[\"$\",\"p\",null,{\"children\":[\"Remember \",[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/frameset\",\"children\":\"framesets\"}],\" and frames? Not \",[\"$\",\"code\",null,{\"children\":\"iframes\"}],\" but \",[\"$\",\"code\",null,{\"children\":\"frames\"}],\". This pre-HTML5 technology was still in use by the vendor in question, so I got to dig deep into my JavaScript toolbox to properly scrape the necessary data from the pages I accessed.\"]}],[\"$\",\"p\",null,{\"children\":\"There were four main things I had to do with my Puppeteer code:\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":\"Get the raw text data from each page\"}],[\"$\",\"li\",null,{\"children\":\"Navigate to the links to other pages referenced on the original page and grab text data from each of those pages\"}],[\"$\",\"li\",null,{\"children\":\"Download all files linked on each page\"}],[\"$\",\"li\",null,{\"children\":\"Screenshot each page (in case anything was missed in this scraping process, at least the screenshot would provide reference data)\"}]]}],[\"$\",\"p\",null,{\"children\":[\"All of the above had to be applied to \",[\"$\",\"em\",null,{\"children\":\"7,000 pages\"}],\" of data. Wow.\"]}],[\"$\",\"p\",null,{\"children\":\"If you've ever used Puppeteer (or really, if you've ever used the web), you know that network requests can take varying amounts of time to resolve. For an application that is rendered server-side, this means you have to wait for the network request to finish before you can do any scraping. So, each page could take anywhere between one and five seconds to load. Assuming the average load time was 2.5 seconds, we are already at 17,500 seconds of scraping time just for loading those pages.\"}],[\"$\",\"p\",null,{\"children\":\"But remember, I also had to grab the links to referenced pages within the original pages and grab the sub-data from those pages. We'll play it conservative and say there was just one additional page referenced on each original page. And if we apply the same 2.5 second average load time, that's an additional 17,500 seconds of scraping time.\"}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Gets out calculator\"}]}],[\"$\",\"p\",null,{\"children\":[\"For just the first two steps above, we have a script that will need to run for \",[\"$\",\"em\",null,{\"children\":\"9.72 hours\"}],\". What about for the next two steps in the four-step process?\"]}],[\"$\",\"p\",null,{\"children\":\"Each original page had various files attached that needed to be downloaded. These files could be PDFs, email messages, images, documents, and more. The sizes of the files ranged. A conservative estimate here would put an average of four files on each of the original pages. Each file download probably averaged about a second.\"}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"More math\"}]}],[\"$\",\"p\",null,{\"children\":\"The file downloads would take upwards of 28,000 seconds, or an additional 7.77 hours. But we're not done, because we also have to take a screenshot and save that screenshot for each of the original pages. Puppeteer is pretty quick with this, so each screenshot, even using the synchronous code necessary to make sure everything executed properly, likely took about 1.5 seconds. That means…getting that calculator again…an additional 10,500 seconds, or 2.91 hours.\"}],[\"$\",\"p\",null,{\"children\":\"That all adds up to 20.33 hours, give or take. And of course, this is just an estimate after the fact, but it checks out. Because, you see, this isn't just a hypothetical. I ran this script, got the data I needed, and it took from the end of one day to the middle of the next day.\"}],[\"$\",\"p\",null,{\"children\":\"A script that spanned across two days just to get data I should have easily had access to? That's vendor lock-in for you. Thank goodness for Puppeteer, a little JavaScript, and a whole lot of patience.\"}]]}],[\"$\",\"div\",null,{\"className\":\"pb-6 pt-6 text-sm text-gray-700 dark:text-gray-300\",\"children\":[[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"nofollow\",\"href\":\"https://mobile.twitter.com/search?q=https%3A%2F%2Fpolluterofminds.com%2Fblog%2Fi-wrote-a-puppeteer-script-that-ran-for-two-days\",\"children\":\"Discuss on Twitter\"}],\" • \",[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/polluterofminds/polluterofminds-site/blob/main/data/blog/i-wrote-a-puppeteer-script-that-ran-for-two-days.mdx\",\"children\":\"View on GitHub\"}]]}],[\"$\",\"div\",null,{\"className\":\"pb-6 pt-6 text-center text-gray-700 dark:text-gray-300\",\"id\":\"comment\",\"children\":[\"$\",\"$L15\",null,{\"slug\":\"i-wrote-a-puppeteer-script-that-ran-for-two-days\"}]}]]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y\",\"children\":[[\"$\",\"div\",null,{\"className\":\"py-4 xl:py-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400\",\"children\":\"Tags\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap\",\"children\":[[\"$\",\"$Lb\",null,{\"href\":\"/tags/dev\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"dev\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex justify-between py-4 xl:block xl:space-y-8 xl:py-8\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400\",\"children\":\"Previous Article\"}],[\"$\",\"div\",null,{\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":[\"$\",\"$Lb\",null,{\"href\":\"/blog/being-wrong-in-the-time-of-a-pandemic\",\"children\":\"Being Wrong in the Time of a Pandemic\"}]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400\",\"children\":\"Next Article\"}],[\"$\",\"div\",null,{\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":[\"$\",\"$Lb\",null,{\"href\":\"/blog/remote-done-right\",\"children\":\"Remote Done Right\"}]}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"pt-4 xl:pt-8\",\"children\":[\"$\",\"$Lb\",null,{\"href\":\"/blog\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"aria-label\":\"Back to the blog\",\"children\":\"← Back to the blog\"}]}]]}]]}]]}]}]]}]]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"I Wrote a Puppeteer Script That Ran For Two Days | @polluterofminds | Justin Hunter\"}],[\"$\",\"meta\",\"2\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"3\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"4\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://polluterofminds.com/blog/i-wrote-a-puppeteer-script-that-ran-for-two-days\"}],[\"$\",\"link\",\"6\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://polluterofminds.com/feed.xml\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:title\",\"content\":\"I Wrote a Puppeteer Script That Ran For Two Days\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://polluterofminds.com/blog/i-wrote-a-puppeteer-script-that-ran-for-two-days\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"@polluterofminds | Justin Hunter\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image\",\"content\":\"https://polluterofminds.com/static/images/twitter-card.png\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"13\",{\"property\":\"article:published_time\",\"content\":\"2020-05-12T19:36:45.000Z\"}],[\"$\",\"meta\",\"14\",{\"property\":\"article:modified_time\",\"content\":\"2020-05-12T19:36:45.000Z\"}],[\"$\",\"meta\",\"15\",{\"property\":\"article:author\",\"content\":\"Justin Hunter\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:title\",\"content\":\"I Wrote a Puppeteer Script That Ran For Two Days\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://polluterofminds.com/static/images/twitter-card.png\"}],[\"$\",\"meta\",\"19\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"11:null\n"])</script></body></html>